# Food Selection

---

## アプリケーション概要

食物のアレルギーの情報を投稿し合うアプリケーションを作成しました。
ユーザー登録した人は情報の投稿ができるようになります。
他のユーザーは、投稿されている情報を閲覧でき、コメントをすることもできます。

- 接続先情報
  - https://food-selection.herokuapp.com/
    - Herokuでデプロイしているため、Herokuの仕様により本番環境にアクセス頂いた際に画像リンクが切れている可能性がございます。
  - ID/Pass
    - ID: koyahu
    - Pass: 6472538
  - テスト用アカウント等
    - ユーザー1
      - メールアドレス: k@k
      - パスワード: k1o2m3e
    - ユーザー２
      - メールアドレス: p@n
      - パスワード: p6a5n4n

---

## 利用方法

- WebブラウザGoogle Chromeの最新版を利用してアクセスしてください。
  - ただしデプロイ等で接続できないタイミングもございます。その際は少し時間をおいてから接続してください。
- 接続先およびログイン情報については、上記の通りです。
- 同時に複数の方がログインしている場合に、ログインできない可能性があります。
- 紹介機能
  - テストアカウントでログイン→トップページから投稿ボタン押下→商品情報入力→商品紹介
- コメント機能
  - テストアカウントでログイン→トップページから商品を選択→詳細画面の下のコメント欄に記述→投稿ボタン押下→コメント投稿
- 確認後、ログアウト処理をお願いします。

---

## 課題解決

アプリを使用する人は、食品アレルギーを持ってる人と食品アレルギーの子供がいる若い夫婦を想定しています。
食品アレルギーを持っている人は、加工品やお店で食事する際にアレルギー表示を確認しなければなりません。
そのため、時間が多くかかってしまいます。このアプリで食品のアレルギー情報を共有することで時間の短縮になります。
その上、投稿する形のアプリだから、もしアレルギー表示が書かれていないところの情報も見ることができます。

---

## 要件定義

| 優先順位 | 機能                      | 目的                                              | 詳細                                  | ストーリー（ユースケース）                               | 見積もり |
|:-------:|:-----------------------: |:------------------------------------------------:| ---------------------------------   | --------------------------------------------------- |:-------:|
|3        |デプロイ                   |デプロイしてアプリを使えるようにする                     |herokuにアプリをデプロイすることで誰でもアプリが使えるようにする                |URLを検索することでアプリを使うことができる                 |2        |
|3        |ユーザー認証                |Basic認証を使って、ユーザーを制限する                   |Basic認証によって、アプリに入ることができる人を制限する                        |Basic認証を通過できたらトップページに遷移する               |1        |
|3        |テーブル設計                |ER図を作成してアプリの実装を行いやすくする               |ER図で必要なテーブルとアソシエーションを書くことで何が必要なのかがはっきりする      |アプリ上の操作はないが、どんなアプリかの概要が分かる          |3        |
|3        |ユーザー管理機能とトップページ |ユーザーを登録させることで迷惑な投稿などを減らすことができる |deviseを導入して、新規登録/ログイン/ログアウトなどを可能にする                  |トップページの制作、新規登録、ログインなどができる           |12        |
|3        |商品紹介機能                |食品のアレルギーの内容などが投稿できる                   |商品紹介ページで情報を登録することで他のユーザーと情報を共有できる                ｜商品紹介ページで情報を登録するとDBに保存されトップページに戻る |7        |
|2        |商品削除機能                |投稿した商品を削除できる                               |間違った投稿などを削除できて、DBからも情報が消える                            |自分が投稿した商品だけ削除することができる                  |4        |
|3        |商品詳細機能                |投稿した商品の詳細な情報を知ることができる                |商品を選択すると商品の詳細ページへと遷移する                                   |一覧表示よりも詳しい情報が書かれている                     |4         |
|3        |商品一覧表示機能             |投稿されている商品を見ることができる                     |商品をトップページから確認することができる                                   |トップページで投稿されている商品を見ることができる           |3         |
|2        |商品編集機能                |投稿された商品の情報を編集できる                        |商品の情報を書き換えることができる                                   |自分で投稿した商品の情報だけ編集することができる             |5          |
|1        |情報取得制限機能             |主要7品目だけを表示させる                              |商品情報が多くなった時でも主要なアレルギーを簡単にしることができる               |主要7品目の表示に簡単に変更できる                         |7          |
|1        |コメント機能                |非同期でコメントをすることができる                       |詳細画面でコメントをすることができる                                   |ユーザー登録をしている人たちでコメントをすることができる      |6          |
|3        |ビューの装飾                |見た目を仕上げる                                      |作ってきたビューファイルを整える                                   |利用する人が分かりやすいように見た目を整える                |9          |
|1        |エラー文の日本語化           |エラー文をみるとそのエラー内容が理解できるようにする        |エラーメッセージの表示を英語から日本語に変える                                 |ユーザー管理や商品紹介のエラー文が日本語になる               |3          |
|1        |ページネーション機能         |トップページを長すぎないようにする                       |商品が増えてきた時に、ページネーションの機能を使い一つのページの情報を減らす        |トップページの表示される枚数を減らすことで見やすくする        |5           |

---

## 実装した機能について

### 食品のアレルギーを複数選択することのできる機能
食品を紹介する時に、アレルギー表示の欄で複数のチェックをすることができます。
実装した理由としては一つの食品に一つのアレルギーだけということが少ないからです。
[![Image from Gyazo](https://i.gyazo.com/2abf319bc34dc6fceccfe8c9a2afcc19.png)](https://gyazo.com/2abf319bc34dc6fceccfe8c9a2afcc19)

### アレルギー主要7品目のみが表示される機能
アレルギーの主要7品目に該当する商品のみの表示に切り替わることができます。
実装した理由としては、主要7品目のアレルギーの人がたくさんいるため
[![Image from Gyazo](https://i.gyazo.com/0af09a1411fc5064a14ea99f6644b517.png)](https://gyazo.com/0af09a1411fc5064a14ea99f6644b517)

---

## データベース設計
[![Image from Gyazo](https://i.gyazo.com/0d2ca7d2397338f183e186cc68a5e4a9.png)](https://gyazo.com/0d2ca7d2397338f183e186cc68a5e4a9)

---

## ローカルでの動作方法
- git clone https://github.com/nagitoru/food-selection
- cd food-selection
- bundle install
- yarn install
- rails db:create
- rails db:migrate
- rails s
